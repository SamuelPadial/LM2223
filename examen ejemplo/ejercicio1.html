<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="jquery-3.6.4.min.js"></script>
    <style>
        body{
            display: flex;
            align-items: center;
        }
        form{
            width: 16%;
            margin-left: 20%;
            margin-top: 10%;
            margin-bottom: 10%;
            padding: 7%;
            background-color: beige;
            border-radius: 2%;
            font-size: 150%;
        }
        input{
            margin-top: 2%;
            margin-bottom: 2%;
            margin-right: 2%;
        }
        label{
            margin-top: 2%;
            margin-bottom: 2%;
        }
        button{
            display: block;
            margin-top: 4%;
            padding: 3%;
        }
        #mensajeErrorCampos{
            color: red;
            margin-left: 3%;
        }
    </style>
    <title>Formulario</title>
</head>
<body>
    <form method="post" action="">
        <label for="name">Nombre</label><br>
        <input type="text" name="nombre" id="name"><br>

        <label for="ape1">Primer Apellido</label><br>
        <input type="text" name="apellido1" id="ape1"><br>

        <label for="ape2">Segundo Apellido</label><br>
        <input type="text" name="apellido2" id="ape2"><br>

        <label for="dni">DNI</label><br>
        <input type="text" name="dni" id="dni"><br>

        <label for="paswd">Contrase単a</label><br>
        <input type="password" name="contrase単a" id="paswd"><br>
        
        <label for="paswd2">Confirmar contrase単a</label><br>
        <input type="password" name="contrase単a" id="paswd2"><br>

        <label for="email">Correo</label><br>
        <input type="email" name="correo" id="email"><br>

        <label for="desc">Descripcion</label><br>
        <input type="textarea" name="descripcion" id="desc"><br>

        <label for="bdy">Fecha Nacimiento</label><br>
        <input type="date" name="fnacimiento" id="bdy"><br>

        <input type="checkbox" name="condition" id="chck">
        <label for="chck">Al hacer click acepta nuestro tratamiento de datos personales y
            contenido sensible
        </label><br>

        <button id="BotonEnviar">Enviar</button>
        <div id="mensajeErrorCampos"></div>
        <div id="mensaje"></div>
        
    </form>

    <script>

            function isEmail(email) {
                var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                return regex.test(email);
}

        $("#BotonEnviar").clcick(function(){

            var campoVacio = "";
            var MensajeError = "";

                if ($("#name").val()==""){
                    campoVacio = campoVacio + "name<br>"
                }

                if ($("#ape1").val()==""){
                    campoVacio = campoVacio + "ape1<br>"
                }

                if ($("#ape2").val()==""){
                    campoVacio = campoVacio + "ape2<br>"
                }

                if ($("#email").val()=="")
                {
                    campoVacio = campoVacio + "email<br>";        
                }
          
                if ($("#paswd").val()=="" && $("#paswd").length != 9)
                {
                    campoVacio = campoVacio + "paswd<br>";    
                }
                if ($("#paswd2").val()=="" && $("#paswd2").val!= $("#paswd").val())
                {
                    campoVacio = campoVacio + "paswd2<br>";    
                }

                if ($("#chck").val()=="")
                {
                    campoVacio = campoVacio + "chck<br>";    
                }

                if(isEmail($("#email").val())== false){
                    MensajeError = MensajeError+"<p>Tu direccion de email no es valida</P>"
                }

                if (campoVacio!=""){
                    MensajeError = "<p>Los siguientes campos estan vacios o incorrectos: </p>"+campoVacio+MensajeError;
                }
                if(MensajeError!=""){
                    $("#mensajeErrorCampos").html(MensajeError);
                }
                else{
                    var user = toLowerCase(name.substr(0,0)+ape1.substr(0,2)+ape2.substr(0,2)+dni.substr(-7,-4))
                    $("#mensaje").html("El usuario "+user+ " se ha registrado con exito")

                }
        })

           
    </script>
</body>
</html>